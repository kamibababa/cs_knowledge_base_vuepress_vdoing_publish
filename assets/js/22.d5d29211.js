(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{356:function(s,e){s.exports="data:image/png;base64,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"},395:function(s,e,n){s.exports=n.p+"assets/img/format,png-1732708251769-3.f84cc656.png"},396:function(s,e,n){s.exports=n.p+"assets/img/format,png-1732708254706-6.3ce532d5.png"},397:function(s,e,n){s.exports=n.p+"assets/img/format,png-1732708258847-9.d475076f.png"},563:function(s,e,n){"use strict";n.r(e);var a=n(14),t=Object(a.a)({},(function(){var s=this,e=s._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("之前有过一次面试，对于前端开发者，会一门后台语言这是必要的了。")]),s._v(" "),e("p",[s._v("当时被问过这么几个问题，虽然文章内容中我没有写，大家可以去带着这些问题来学习，找一下对应的答案，也是一种提升！")]),s._v(" "),e("ul",[e("li",[s._v("浏览器的事件循环和node的事件循环有什么不同？")]),s._v(" "),e("li",[e("code",[s._v("commonjs")]),s._v("的"),e("code",[s._v("require")]),s._v("的实现原理？")]),s._v(" "),e("li",[s._v("ES6的"),e("code",[s._v("import")]),s._v("和"),e("code",[s._v("commonjs")]),s._v("的require有什么不同？")]),s._v(" "),e("li",[s._v("手写一个"),e("code",[s._v("EventEmmit")]),s._v("类")])]),s._v(" "),e("p",[s._v("后续会针对这些问题，出一篇文章，欢迎大家的关注。")]),s._v(" "),e("h2",{attrs:{id:"node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[s._v("#")]),s._v(" Node")]),s._v(" "),e("h3",{attrs:{id:"为什么要学习nodejs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#为什么要学习nodejs"}},[s._v("#")]),s._v(" 为什么要学习Nodejs")]),s._v(" "),e("ul",[e("li",[s._v("企业需求\n"),e("ul",[e("li",[s._v("具有服务端开发经验更好")]),s._v(" "),e("li",[s._v("全栈工程师")]),s._v(" "),e("li",[s._v("基本的网站开发能力\n"),e("ul",[e("li",[s._v("服务端")]),s._v(" "),e("li",[s._v("前端")]),s._v(" "),e("li",[s._v("运维部署相关工作")])])])])])]),s._v(" "),e("h3",{attrs:{id:"node是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node是什么"}},[s._v("#")]),s._v(" Node是什么")]),s._v(" "),e("p",[s._v("Node.js 是一个基于 Chrome V8 引擎的 JavaScript 运行环境。  Node.js 使用了一个"),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fnodejs.org%2Fen%2Fdocs%2Fguides%2Fevent-loop-timers-and-nexttick%2F",title:"https://nodejs.org/en/docs/guides/event-loop-timers-and-nexttick/",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[s._v("事件驱动")]),e("OutboundLink")],1),s._v("、"),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fnodejs.org%2Fen%2Fdocs%2Fguides%2Fblocking-vs-non-blocking%2F",title:"https://nodejs.org/en/docs/guides/blocking-vs-non-blocking/",target:"_blank",rel:"noopener noreferrer"}},[e("strong",[s._v("非阻塞式 I/O")]),e("OutboundLink")],1),s._v(" 的模型，使其轻量又高效。")]),s._v(" "),e("p",[s._v("目前稳定版本:14.15.1 LTS(Long Term Support) 长期支持版本")]),s._v(" "),e("h3",{attrs:{id:"安装node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装node"}},[s._v("#")]),s._v(" 安装node")]),s._v(" "),e("p",[s._v("官网下载=>一键式安装,点点点就可以进行安装。")]),s._v(" "),e("p",[s._v("ps：如果windows电脑的同学在安装时修改了安装路径，请自行去_修改环境变量_")]),s._v(" "),e("blockquote",[e("p",[s._v("当然现在node的最新版本是14.15.1，大家可以现在下载最新版本进行安装")])]),s._v(" "),e("p",[e("img",{attrs:{src:n(356),alt:""}})]),s._v(" "),e("p",[s._v("表示安装成功")]),s._v(" "),e("h4",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[s._v("#")]),s._v(" 准备工作")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("运行node程序")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("console.log('hello node');\nconsole.log('run my use:node 01-runnode');\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("运行:node 01-runnode.js")]),s._v(" "),e("blockquote",[e("p",[s._v("每次修改js文件需要重新执行才会生效,安装nodemon 可以监视文件改动,自动重启")]),s._v(" "),e("p",[s._v("npm i -g nodemon")])]),s._v(" "),e("p",[s._v("以后运行 用"),e("code",[s._v("nodemon 01-runnode.js")])])]),s._v(" "),e("li",[e("p",[s._v("调式node程序:"),e("code",[s._v("Debug-Start Debugging")])])])]),s._v(" "),e("h3",{attrs:{id:"repl-交互式解释器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#repl-交互式解释器"}},[s._v("#")]),s._v(" REPL(交互式解释器)")]),s._v(" "),e("ul",[e("li",[s._v("表达式运算")]),s._v(" "),e("li",[s._v("使用变量")]),s._v(" "),e("li",[s._v("多行表达式")]),s._v(" "),e("li",[s._v("REPL命令\n"),e("ul",[e("li",[s._v("ctrl + c - 退出当前终端。")]),s._v(" "),e("li",[s._v("ctrl + c 按下两次 - 退出 Node REPL。")]),s._v(" "),e("li",[s._v("ctrl + d - 退出 Node REPL.")]),s._v(" "),e("li",[s._v("向上/向下 键 - 查看输入的历史命令")]),s._v(" "),e("li",[s._v("tab 键 - 列出当前命令")]),s._v(" "),e("li",[s._v(".help - 列出使用命令")]),s._v(" "),e("li",[s._v(".break - 退出多行表达式")]),s._v(" "),e("li",[s._v(".clear - 退出多行表达式")]),s._v(" "),e("li",[s._v(".save filename - 保存当前的 Node REPL 会话到指定文件")]),s._v(" "),e("li",[s._v(".load filename - 载入当前 Node REPL 会话的文件内容。")])])])]),s._v(" "),e("h3",{attrs:{id:"回调函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#回调函数"}},[s._v("#")]),s._v(" 回调函数")]),s._v(" "),e("p",[s._v("Node.js 异步编程的直接体现就是回调。")]),s._v(" "),e("p",[s._v("异步编程依托于回调来实现，但不能说使用了回调后程序就异步化了。")]),s._v(" "),e("p",[s._v("回调函数在完成任务后就会被调用，Node 使用了大量的回调函数，Node 所有 API 都支持回调函数。")]),s._v(" "),e("p",[s._v("例如，我们可以一边读取文件，一边执行其他命令，在文件读取完成后，我们将文件内容作为回调函数的参数返回。这样在执行代码时就没有阻塞或等待文件 "),e("code",[s._v("I/O")]),s._v(" 操作。这就大大提高了 "),e("code",[s._v("Node.js")]),s._v(" 的性能，可以处理大量的并发请求。")]),s._v(" "),e("h4",{attrs:{id:"阻塞代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#阻塞代码"}},[s._v("#")]),s._v(" 阻塞代码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 阻塞式代码\nconst fs = require('fs');\nconst data = fs.readFileSync('01-runnode.js');\nconsole.log(data.toString());\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h4",{attrs:{id:"非阻塞代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#非阻塞代码"}},[s._v("#")]),s._v(" 非阻塞代码")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\nfs.readFile('01-runnode.j',function(err,data) {\n    if(err){\n        console.log(err.stack);\n        return;\n    }\n    console.log(data.toString());\n});\nconsole.log('继续执行');\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("p",[s._v("第一个实例在文件读取完后才执行完程序。 第二个实例我们不需要等待文件读取完，这样就可以在读取文件时同时执行接下来的代码，大大提高了程序的性能。")]),s._v(" "),e("p",[s._v("因此，阻塞按是按顺序执行的，而非阻塞是不需要按顺序的，所以如果需要处理回调函数的参数，我们就需要写在回调函数内。")]),s._v(" "),e("h3",{attrs:{id:"事件循环"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件循环"}},[s._v("#")]),s._v(" 事件循环")]),s._v(" "),e("p",[s._v("Node.js 是单进程单线程应用程序，但是通过事件和回调支持并发，所以性能非常高。")]),s._v(" "),e("p",[s._v("Node.js 的每一个 API 都是异步的，并作为一个独立线程运行，使用异步函数调用，并处理并发。")]),s._v(" "),e("p",[s._v("Node.js 基本上所有的事件机制都是用设计模式中观察者模式实现。")]),s._v(" "),e("p",[s._v("Node.js 单线程类似进入一个"),e("code",[s._v("while(true)")]),s._v("的事件循环，直到没有事件观察者退出，每个异步事件都生成一个事件观察者，如果有事件发生就调用该回调函数.")]),s._v(" "),e("h3",{attrs:{id:"事件驱动程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#事件驱动程序"}},[s._v("#")]),s._v(" 事件驱动程序")]),s._v(" "),e("p",[s._v("Node.js 使用事件驱动模型，当"),e("code",[s._v("web server")]),s._v("接收到请求，就把它关闭然后进行处理，然后去服务下一个web请求。")]),s._v(" "),e("p",[s._v("当这个请求完成，它被放回处理队列，当到达队列开头，这个结果被返回给用户。")]),s._v(" "),e("p",[s._v("这个模型非常高效可扩展性非常强，因为"),e("code",[s._v("webserver")]),s._v("一直接受请求而不等待任何读写操作。（这也被称之为非阻塞式IO或者事件驱动IO）")]),s._v(" "),e("p",[s._v("在事件驱动模型中，会生成一个主循环来监听事件，当检测到事件时触发回调函数。")]),s._v(" "),e("p",[e("img",{attrs:{src:n(395),alt:""}})]),s._v(" "),e("p",[s._v("整个事件驱动的流程就是这么实现的，非常简洁。有点类似于观察者模式，事件相当于一个主题(Subject)，而所有注册到这个事件上的处理函数相当于观察者(Observer)。")]),s._v(" "),e("p",[s._v("Node.js 有多个内置的事件，我们可以通过引入 events 模块，并通过实例化 EventEmitter 类来绑定和监听事件，如下实例：")]),s._v(" "),e("p",[s._v("创建 03-eventEmitter.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 引入event 模块\nconst events = require('events');\n\n// 创建eventEmitter对象\nconst eventEmitter = new events.EventEmitter();\n\n// 创建事件处理程序\nconst connectHandler = function connected() {\n    console.log('连接成功');\n    // 触发 data_received事件\n    eventEmitter.emit('data_received');\n}\n\n// 绑定 connection 事件处理程序\neventEmitter.on('connection', connectHandler);\n\n// 使用匿名函数绑定 data_received 事件\neventEmitter.on('data_received',function() {\n    console.log('数据接收成功');\n})\n\n// 触发 connection事件\neventEmitter.emit('connection');\nconsole.log('程序执行完毕');\n\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br")])]),e("p",[s._v("执行:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("连接成功\n数据接收成功\n程序执行完毕\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("h3",{attrs:{id:"buffer-缓冲区"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#buffer-缓冲区"}},[s._v("#")]),s._v(" Buffer(缓冲区)")]),s._v(" "),e("p",[s._v("JavaScript 语言自身只有字符串数据类型，没有二进制数据类型。")]),s._v(" "),e("p",[s._v("但在处理像TCP流或文件流时，必须使用到二进制数据。因此在 Node.js中，定义了一个 "),e("code",[s._v("Buffer")]),s._v(" 类，该类用来创建一个专门存放二进制数据的缓存区。")]),s._v(" "),e("p",[s._v("在 Node.js 中，"),e("code",[s._v("Buffer")]),s._v(" 类是随 Node 内核一起发布的核心库。"),e("code",[s._v("Buffer")]),s._v(" 库为 Node.js 带来了一种存储原始数据的方法，可以让 Node.js 处理二进制数据，每当需要在 Node.js 中处理I/O操作中移动的数据时，就有可能使用 "),e("code",[s._v("Buffer")]),s._v(" 库。原始数据存储在 "),e("code",[s._v("Buffer")]),s._v(" 类的实例中。一个 "),e("code",[s._v("Buffer")]),s._v(" 类似于一个整数数组，但它对应于 V8 堆内存之外的一块原始内存。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// buffer: 八位字节组成数组,可以有效的在js中存储二进制数据\n// 创建\nconst buf1 = Buffer.alloc(10);\nconsole.log(buf1);\n// 通过数据创建\nconst buf2 = Buffer.from('hello world');\nconsole.log(buf2);\n\nconst buf3 = Buffer.from([1,2,3]);\nconsole.log(buf3);\n\n// 写入\nbuf1.write('hello buffer');\nconsole.log(buf1);\n\n// 读取\nconsole.log(buf2.toString());\nconsole.log(buf2.toString('base64'));\n\n// 合并\nconst buf4 = Buffer.concat([buf1,buf2]);\nconsole.log(buf4.toString());\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("h3",{attrs:{id:"stream-流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#stream-流"}},[s._v("#")]),s._v(" Stream(流)")]),s._v(" "),e("h4",{attrs:{id:"管道流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#管道流"}},[s._v("#")]),s._v(" 管道流")]),s._v(" "),e("p",[s._v("管道提供了一个输出流到输入流的机制。通常我们用于从一个流中获取数据并将数据传递到另外一个流中。")]),s._v(" "),e("p",[e("img",{attrs:{src:n(396),alt:""}})]),s._v(" "),e("p",[s._v("如上面的图片所示，我们把文件比作装水的桶，而水就是文件里的内容，我们用一根管子(pipe)连接两个桶使得水从一个桶流入另一个桶，这样就慢慢的实现了大文件的复制过程。")]),s._v(" "),e("p",[s._v("以下实例我们通过读取一个文件内容并将内容写入到另外一个文件中。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\n// 创建可读流\nconst readerStream = fs.createReadStream('./package.json');\n// 创建可写流\nconst writerStream = fs.createWriteStream('./test.txt');\n// 设置编码为utf8\nreaderStream.pipe(writerStream);\nconsole.log('执行完毕');\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[e("strong",[s._v("链式流")])]),s._v(" "),e("p",[s._v("链式是通过连接输出流到另外一个流并创建多个流操作链的机制。链式流一般用于管道操作")]),s._v(" "),e("p",[s._v("接下来我们就是用管道和链式来压缩和解压文件。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\nconst zlib = require('zlib');\n// 压缩test.txt为test.zip\nfs.createReadStream('./test.txt').pipe(zlib.createGzip()).pipe(fs.createWriteStream('test.zip'));\nconsole.log('文件压缩成功');\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"模块系统"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模块系统"}},[s._v("#")]),s._v(" 模块系统")]),s._v(" "),e("p",[s._v("为了让Node.js的文件可以相互调用，Node.js提供了一个简单的模块系统。")]),s._v(" "),e("p",[s._v("模块是Node.js 应用程序的基本组成部分，文件和模块是一一对应的。换言之，一个 Node.js 文件就是一个模块，这个文件可能是JavaScript 代码、JSON 或者编译过的C/C++ 扩展。")]),s._v(" "),e("h4",{attrs:{id:"模块commonjs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模块commonjs"}},[s._v("#")]),s._v(" "),e("strong",[s._v("模块CommonJS")])]),s._v(" "),e("p",[s._v("在Node.js中,创建一个模块非常简单,创建main.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const Hello = require('./hello');\nhello.world();\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("Node.js 提供了exports 和 require 两个对象，其中 exports 是模块公开的接口，require 用于从外部获取一个模块的接口，即所获取模块的 exports 对象")]),s._v(" "),e("p",[s._v("接下来我们就来创建hello.js文件，代码如下：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("exports.world = function() {\n   console.log('hello world');\n}\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("有时候我们只是想把一个对象封装到模块中，格式如下")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("module.exports = function() {\n  // ...\n}\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("例如:")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("function Hello() {\n    let name;\n    this.setName = function(myName) {\n        name = myName\n    }\n    this.sayHello = function() {\n        console.log('hello', name);\n\n    }\n}\nmodule.exports = Hello;\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("这样就可以直接获得这个对象了：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const hello = new Hello();\nhello.setName('小马哥');\nhello.sayHello();\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("模块接口的唯一变化是使用 "),e("code",[s._v("module.exports = Hello")]),s._v(" 代替了"),e("code",[s._v("exports.world = function(){}")]),s._v("。 在外部引用该模块时，其接口对象就是要输出的 "),e("code",[s._v("Hello")]),s._v(" 对象本身，而不是原先的 "),e("code",[s._v("exports")]),s._v("。")]),s._v(" "),e("h4",{attrs:{id:"服务端的模块放在哪里"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#服务端的模块放在哪里"}},[s._v("#")]),s._v(" 服务端的模块放在哪里")]),s._v(" "),e("p",[s._v("也许你已经注意到，我们已经在代码中使用了模块了。像这样：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\n\nfs.createReadStream(...)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("Nodejs中有很多常用的内置模块,下节有介绍")]),s._v(" "),e("p",[s._v("Node.js的"),e("code",[s._v("require")]),s._v("方法中的文件查找策略如下(面试必看,熟悉模块查找的机制)")]),s._v(" "),e("p",[s._v("由于Node.js中存在4类模块（原生模块和3种文件模块），尽管"),e("code",[s._v("require")]),s._v("方法极其简单，但是内部的加载却是十分复杂的，其加载优先级也各自不同。如下图所示：")]),s._v(" "),e("p",[e("img",{attrs:{src:n(397),alt:""}})]),s._v(" "),e("p",[e("strong",[s._v("从文件模块缓存中加载")])]),s._v(" "),e("p",[s._v("尽管原生模块与文件模块的优先级不同，但是都不会优先于从文件模块的缓存中加载已经存在的模块。")]),s._v(" "),e("p",[e("strong",[s._v("从原生模块加载")])]),s._v(" "),e("p",[s._v('原生模块的优先级仅次于文件模块缓存的优先级。require方法在解析文件名之后，优先检查模块是否在原生模块列表中。以http模块为例，尽管在目录下存在一个http/http.js/http.node/http.json文件，require("http")都不会从这些文件中加载，而是从原生模块中加载。 原生模块也有一个缓存区，同样也是优先从缓存区加载。如果缓存区没有被加载过，则调用原生模块的加载方式进行加载和执行。')]),s._v(" "),e("p",[e("strong",[s._v("从文件加载")])]),s._v(" "),e("p",[s._v("当文件模块缓存中不存在，而且不是原生模块的时候，Node.js会解析require方法传入的参数，并从文件系统中加载实际的文件，加载过程中的包装和编译细节在前一节中已经介绍过，这里我们将详细描述查找文件模块的过程，其中，也有一些细节值得知晓。 require方法接受以下几种参数的传递：")]),s._v(" "),e("ul",[e("li",[s._v("http、fs、path等，原生模块。")]),s._v(" "),e("li",[s._v("./mod或../mod，相对路径的文件模块。")]),s._v(" "),e("li",[s._v("/pathtomodule/mod，绝对路径的文件模块。")]),s._v(" "),e("li",[s._v("mod，非原生模块的文件模块。")])]),s._v(" "),e("h3",{attrs:{id:"常用内置模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用内置模块"}},[s._v("#")]),s._v(" 常用内置模块")]),s._v(" "),e("h4",{attrs:{id:"fs模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fs模块"}},[s._v("#")]),s._v(" fs模块")]),s._v(" "),e("p",[e("strong",[s._v("异步和同步")])]),s._v(" "),e("p",[e("strong",[s._v("打开文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.open(path, flags[, mode], callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("参数")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("path - 文件的路径。")])]),s._v(" "),e("li",[e("p",[s._v("flags - 文件打开的行为。具体值详见下文。")])]),s._v(" "),e("li",[e("p",[s._v("mode - 设置文件模式(权限)，文件创建默认权限为 0666(可读，可写)。")])]),s._v(" "),e("li",[e("p",[s._v("callback - 回调函数，带有两个参数如：callback(err, fd)。")]),s._v(" "),e("p",[s._v("flags 参数可以是以下值：")]),s._v(" "),e("table",[e("thead",[e("tr",[e("th",[s._v("Flag")]),s._v(" "),e("th",[s._v("描述")])])]),s._v(" "),e("tbody",[e("tr",[e("td",[e("strong",[s._v("r")])]),s._v(" "),e("td",[s._v("以读取模式打开文件。如果文件不存在抛出异常。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("r+")])]),s._v(" "),e("td",[s._v("以读写模式打开文件。如果文件不存在抛出异常。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("rs")])]),s._v(" "),e("td",[s._v("以同步的方式读取文件。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("rs+")])]),s._v(" "),e("td",[s._v("以同步的方式读取和写入文件。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("w")])]),s._v(" "),e("td",[s._v("以写入模式打开文件，如果文件不存在则创建。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("wx")])]),s._v(" "),e("td",[s._v("类似 'w'，但是如果文件路径存在，则文件写入失败。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("w+")])]),s._v(" "),e("td",[s._v("以读写模式打开文件，如果文件不存在则创建。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("wx+")])]),s._v(" "),e("td",[s._v("类似 'w+'， 但是如果文件路径存在，则文件读写失败。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("a")])]),s._v(" "),e("td",[s._v("以追加模式打开文件，如果文件不存在则创建。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("ax")])]),s._v(" "),e("td",[s._v("类似 'a'， 但是如果文件路径存在，则文件追加失败。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("a+")])]),s._v(" "),e("td",[s._v("以读取追加模式打开文件，如果文件不存在则创建。")])]),s._v(" "),e("tr",[e("td",[e("strong",[s._v("ax+")])]),s._v(" "),e("td",[s._v("类似 'a+'， 但是如果文件路径存在，则文件读取追加失败。")])])])]),s._v(" "),e("p",[e("strong",[s._v("写入文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.writeFile(filename, data[, options], callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("如果文件存在，该方法写入的内容会覆盖旧的文件内容。")]),s._v(" "),e("p",[s._v("参数使用说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("path")]),s._v(" - 文件路径。")]),s._v(" "),e("li",[e("strong",[s._v("data")]),s._v(" - 要写入文件的数据，可以是 String(字符串) 或 Buffer(流) 对象。")]),s._v(" "),e("li",[e("strong",[s._v("options")]),s._v(" - 该参数是一个对象，包含 {encoding, mode, flag}。默认编码为 utf8, 模式为 0666 ， flag 为 'w'")]),s._v(" "),e("li",[e("strong",[s._v("callback")]),s._v(" - 回调函数，回调函数只包含错误信息参数(err)，在写入失败时返回。")])]),s._v(" "),e("p",[e("strong",[s._v("读取文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.read(fd, buffer, offset, length, position, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("关闭文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.close(fd, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[e("strong",[s._v("截取文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.ftruncate(fd, len, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("参数使用说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("fd")]),s._v(" - 通过 fs.open() 方法返回的文件描述符。")]),s._v(" "),e("li",[e("strong",[s._v("len")]),s._v(" - 文件内容截取的长度。")]),s._v(" "),e("li",[e("strong",[s._v("callback")]),s._v(" - 回调函数，没有参数")])]),s._v(" "),e("p",[e("strong",[s._v("删除文件")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.unlink(path, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("参数使用说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("path")]),s._v(" - 文件路径。")]),s._v(" "),e("li",[e("strong",[s._v("callback")]),s._v(" - 回调函数，没有参数。")])]),s._v(" "),e("p",[e("strong",[s._v("创建目录")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.mkdir(path[, mode], callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[e("p",[e("strong",[s._v("path")]),s._v(" - 文件路径。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("mode")]),s._v(" - 设置目录权限，默认为 0777。")])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("callback")]),s._v(" - 回调函数，没有参数。")])])]),s._v(" "),e("p",[e("strong",[s._v("读取目录")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.readdir(path, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("参数使用说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("path")]),s._v(" - 文件路径。")]),s._v(" "),e("li",[e("strong",[s._v("callback")]),s._v(" - 回调函数，回调函数带有两个参数err, files，err 为错误信息，files 为 目录下的文件数组列表")])]),s._v(" "),e("p",[e("strong",[s._v("删除目录")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("fs.rmdir(path, callback)\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("参数使用说明如下：")]),s._v(" "),e("ul",[e("li",[e("strong",[s._v("path")]),s._v(" - 文件路径。")]),s._v(" "),e("li",[e("strong",[s._v("callback")]),s._v(" - 回调函数，没有参数。")])])])]),s._v(" "),e("h4",{attrs:{id:"如何让异步代码同步化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何让异步代码同步化"}},[s._v("#")]),s._v(" 如何让异步代码同步化")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("promise")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const {promisify} = require('util');\nconst readFile = promisify(fs.readFile);\nreadFile('./01-runnode.js').then(data=>console.log(data));\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("Promises API(node的版本在10.0以上)")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const {promises} = require('fs');\npromises.readFile('./01-runnode.js').then(data => console.log(data));\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("generator")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\nconst { promisify } = require('util');\nconst readFile = promisify(fs.readFile);\n\nfunction* read() {\n    yield readFile('./01-runnode.js');\n}\nlet ge = read();\nge.next().value.then(data=>{\n    console.log(data);\n})\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("async")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const fs = require('fs');\nconst {promisify} = require('util');\nconst readFile = promisify(fs.readFile);\n\nasync function asyncReadFile() {\n    let a = await readFile('./01-runnode.js');\n    console.log(a.toString());\n}\nasyncReadFile();\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])])])]),s._v(" "),e("h4",{attrs:{id:"文件模块参考链接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件模块参考链接"}},[s._v("#")]),s._v(" "),e("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fnodejs.jakeyu.top%2F%23%25E6%2596%2587%25E4%25BB%25B6%25E7%25B3%25BB%25E7%25BB%259F",title:"https://nodejs.jakeyu.top/#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F",target:"_blank",rel:"noopener noreferrer"}},[s._v("文件模块参考链接"),e("OutboundLink")],1)]),s._v(" "),e("h4",{attrs:{id:"os模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#os模块"}},[s._v("#")]),s._v(" os模块")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const os = require('os');\n// 系统内存总量\nconsole.log(os.totalmem());\n// 操作系统空闲内存量\nconsole.log(os.freemem());\n\nconst mem = os.freemem() / os.totalmem() * 100;\nconsole.log(`内存占有率${mem}%`);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("p",[e("strong",[s._v("使用第三方模块")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("npm i cpu-stat -S\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 使用第三方模块\nconst cpuStat = require('cpu-stat');\n\ncpuStat.usagePercent((err,percent)=>{\n    console.log(percent);\n})\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"http模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http模块"}},[s._v("#")]),s._v(" http模块")]),s._v(" "),e("p",[s._v("Nodejs的本质其实就是为了做web服务器,那么如何让HTTP服务器开始工作呢?")]),s._v(" "),e("p",[s._v("让我们快速熟悉简约而不简单的HTTP服务器")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const http = require('http');\nhttp.createServer((req,res)=>{\n    res.end('响应完成了');\n}).listen(3000);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("p",[s._v("启动服务器")]),s._v(" "),e("p",[s._v("浏览器访问:"),e("code",[s._v("http://localhost:3000")]),s._v(" 就能看到"),e("code",[s._v("响应完成了")])]),s._v(" "),e("p",[e("strong",[s._v("路由")])]),s._v(" "),e("p",[s._v("上面的简易的服务器不能满足我们的需求,比如我们需要访问不用的路由地址来查找不同的页面,举个例子:")]),s._v(" "),e("p",[s._v("访问:"),e("code",[s._v("http://localhost:3000/index")]),s._v(" 想看到首页内容,访问:"),e("code",[s._v("http://localhost:3000/about")]),s._v(" 想看到关于我页面的内容")]),s._v(" "),e("p",[s._v("访问:"),e("code",[s._v("http://localhost:3000/user")]),s._v("想看到一个json数据")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const http = require('http');\nconst fs = require('fs');\nhttp.createServer((req,res)=>{\n    const {url,method} = req;\n    if(url === '/index' && method === 'GET'){\n        // 读取首页\n        fs.readFile('./index.html',(err,data)=>{\n            if(err){\n                res.statusCode = 500;//服务器内部错误\n                res.end('500- Interval Serval Error!');\n            }\n            res.statusCode = 200;//设置状态码\n            res.setHeader('Content-Type','text/html');\n            res.end(data);\n        })\n    }else if(url === '/about' && method ==='GET'){\n        fs.readFile('./about.html', (err, data) => {\n            if (err) {\n                res.statusCode = 500;//服务器内部错误\n                res.end('500- Interval Serval Error!');\n            }\n            res.statusCode = 200;//设置状态码\n            res.setHeader('Content-Type', 'text/html');\n            res.end(data);\n        })\n    }else if(url ==='/user' && method === 'GET'){\n        res.statusCode = 200;//设置状态码\n        res.setHeader('Content-Type', 'application/json');\n        res.end(JSON.stringify([{name:\"小马哥\"}]));\n    }else{\n        \n        res.end();\n    }\n   \n}).listen(3000);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br")])]),e("h3",{attrs:{id:"简易版实现自己的express"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#简易版实现自己的express"}},[s._v("#")]),s._v(" 简易版实现自己的express")]),s._v(" "),e("p",[s._v("创建MExpress.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const Application = require('./application');\nfunction MExpress() {\n    return new Application();\n}\nmodule.exports = MExpress;\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("创建application.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("//  需求\n// 1.实现http服务器\n// 2.实现get路由请求\nconst http = require('http');\nconst url = require('url');\nclass Application {\n    constructor() {\n        this.router = [];\n    }\n    get(path, fn) {\n        this.router.push({\n            path: path,\n            method: 'GET',\n            handle: fn\n        })\n    }\n    listen() {\n        http.createServer((req, res) => {\n            const { pathname } = url.parse(req.url);\n            for (const route of this.router) {\n                if (route.path === pathname) {\n                   route.handle(req,res);\n                   return; \n                }\n                if(route.path === '*'){\n                    route.handle(req, res);\n                    return; \n                }\n            }\n        }).listen(...arguments);\n    }\n}\nmodule.exports = Application;\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br")])]),e("p",[s._v("MExpress_test.js")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const MExpress = require('./MExpress');\nconst app = MExpress();\nconst fs = require('fs');\nconst path = require('path')\napp.get('/index',(req,res)=>{\n    fs.readFile('./index.html', (err, data) => {\n        if (err) {\n            res.statusCode = 500;//服务器内部错误\n            res.end('500- Interval Serval Error!');\n        }\n        res.statusCode = 200;//设置状态码\n        res.setHeader('Content-Type','text/html');\n        res.end(data);\n    })\n})\n\napp.get('*',(req,res)=>{\n    res.setHeader('Content-Type', 'image/*');\n    fs.readFile(path.join(__dirname, req.url), function (err, data) {\n        if (err) {\n            throw err;\n        }\n        res.end(data);\n    })\n})\n\n\napp.listen(3001);\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br")])]),e("p",[s._v("本文转自 "),e("a",{attrs:{href:"https://juejin.cn/post/6901093313756332040",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://juejin.cn/post/6901093313756332040"),e("OutboundLink")],1),s._v("，如有侵权，请联系删除。")])])}),[],!1,null,null,null);e.default=t.exports}}]);